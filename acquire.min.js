/**
 * Acquire - Lightweight require() script and file loader with caching
 *
 * @version 0.0.4
 * @author Christian Blanquera <cblanquera@openovate.com>
 * @website https://github.com/cblanquera/acquire
 * @license MIT
 */
!function(){var definition=function(t,e){return e=e||noop,t instanceof Array?loadArray(t,function(){var t=Array.prototype.slice.apply(arguments);setTimeout(function(){e.apply(null,t)})},[],!0):definition.loadPath(t,e,!0)};definition.cache={};var noop=function(){},paths={};definition.config=function(t){for(var e in t)t.hasOwnProperty(e)&&(paths[e]=t[e]);return definition},definition.load=function(t,e){return e=e||noop,"string"==typeof t&&(t=Array.prototype.slice.apply(arguments),"function"==typeof t[t.length-1]&&(e=t.pop())),"function"!=typeof e&&(e=noop),t instanceof Array?loadArray(t,function(){var t=Array.prototype.slice.apply(arguments);setTimeout(function(){e.apply(null,t)})}):loadObject(t,function(){var t=Array.prototype.slice.apply(arguments);setTimeout(function(){e.apply(null,t)})})},definition.loadPath=function(t,e,n){return t=definition.bpm(t),"js"===t.split(".").pop()?definition.loadScript(t,e,n):definition.loadFile(t,e,n)},definition.loadScript=function(path,callback,cached){return cached&&"undefined"!=typeof definition.cache[path]?("string"==typeof definition.cache[path]&&0===definition.cache[path].indexOf("eval;")&&(eval(decodeURIComponent(definition.cache[path].substr(5))),definition.cache[path]=module.exports),setTimeout(function(){callback(definition.cache[path])}),definition.cache[path]):void getScript(path,function(){return module.exports?(definition.cache[path]=module.exports,module.exports=null,void callback(definition.cache[path])):void callback(definition.cache[path])})},definition.loadFile=function(t,e,n){return n&&"undefined"!=typeof definition.cache[t]?("string"==typeof definition.cache[t]&&0===definition.cache[t].indexOf("eval;")&&(definition.cache[t]=decodeURIComponent(definition.cache[t].substr(5))),setTimeout(function(){e(definition.cache[t])}),definition.cache[t]):void getFile(t,function(n){definition.cache[t]=n,e(definition.cache[t])})},definition.getPath=function(t){var e=t.split(".").pop();return e&&e.length&&e!==t||(t+=".js"),t},definition.bpm=function(t){if(0===t.indexOf("/")||-1!==t.indexOf("://"))return definition.getPath(t);var e=t.split("/"),n=e.shift();t=e.join("/");var i="/browser_modules",o="/index.js",a="/"+n;return"object"==typeof paths[n]&&("string"==typeof paths[n].root&&(i=paths[n].root),"string"==typeof paths[n].index&&(o=paths[n].index),a=""),t.length&&"/"!==t||(t=o),0!==t.indexOf("/")&&(t="/"+t),definition.getPath(i+a+t)};var loadObject=function(t,e){var n=[];for(var i in t)t.hasOwnProperty(i)&&(definition.cache[i]=t[i],n.push(definition.cache[i]));return e.apply(null,n),n},loadArray=function(t,e,n,i){if(n=n||[],!t.length)return e.apply(null,n),n;var o=t.shift();return"string"!=typeof o?(n.push(null),void loadArray(t,e,n,i)):void definition.loadPath(o,function(o){n.push(o),loadArray(t,e,n,i)},i)},getScript=function(t,e){e=e||noop;var n=document.createElement("script"),i=document.getElementsByTagName("head")[0];n.async=1,i.appendChild(n),n.onload=n.onreadystatechange=function(t,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n=void 0,i||e())},n.src=t},getFile=function(t,e,n){e=e||noop,n=n||noop;var i;if("undefined"!=typeof XMLHttpRequest)i=new XMLHttpRequest;else for(var o=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],a=0;a<o.length;a++)try{i=new ActiveXObject(o[a]);break}catch(r){}if(!i)return void n(null);var d=function(){if(!(i.readyState<4)){if(i.status>=404&&i.status<600)return void n(i);if(200===i.status&&4===i.readyState){var t=i.responseText;try{t=JSON.parse(t)}catch(o){}e(t,i)}}};i.onreadystatechange=d,i.open("GET",t,!0),i.send("")};window.module||(window.module={exports:null}),window.acquire=definition,"undefined"==typeof window.require&&(window.require=definition),"undefined"!=typeof jQuery&&"undefined"==typeof jQuery.require&&jQuery.extend({require:definition})}();